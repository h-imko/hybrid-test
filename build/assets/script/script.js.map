{
  "version": 3,
  "sources": ["../../../src/assets/script/script.js"],
  "sourcesContent": ["document.addEventListener('DOMContentLoaded', function () {\r\n\tconst banner = document.querySelector(\".banner\")\r\n\tconst counts = banner.querySelectorAll(\".banner__count img\")\r\n\tconst items = [...banner.querySelectorAll(\".banner__items svg g g\")]\r\n\tconst backpack = banner.querySelector(\".banner__backpack\")\r\n\tconst header = banner.querySelector(\".banner__header\")\r\n\tconst ready = banner.querySelector(\".banner__ready\")\r\n\tconst reset = banner.querySelector(\".banner__reset\")\r\n\tconst message = banner.querySelector(\".banner__message\")\r\n\tconst blicks = [...banner.querySelectorAll(\".banner__backpack__decorator\")]\r\n\tconst easing = \"cubic-bezier(0.4, 0, 0.65, 2.2)\"\r\n\tconst duration = {\r\n\t\tfast: 220,\r\n\t\tmid: 400,\r\n\t\tslow: 600\r\n\t}\r\n\r\n\tfunction calcActive(active = 0) {\r\n\t\tcounts.forEach((img, index) => {\r\n\t\t\timg.toggleAttribute(\"hidden\", index != active)\r\n\t\t})\r\n\t}\r\n\r\n\tnew ResizeObserver(entries => {\r\n\t\tbanner.style.setProperty(\"--cqw\", `${entries.at(0).contentRect.width / 100}px`)\r\n\t}).observe(banner)\r\n\r\n\tcalcActive()\r\n\r\n\titems.forEach(item => {\r\n\t\titem.addEventListener(\"click\", () => {\r\n\t\t\titem.toggleAttribute(\"data-checked\")\r\n\r\n\t\t\tconst active = items.reduce((accumulator, item) => {\r\n\t\t\t\treturn accumulator += item.hasAttribute(\"data-checked\")\r\n\t\t\t}, 0)\r\n\r\n\t\t\tif (active == items.length) {\r\n\t\t\t\tbanner.dispatchEvent(new CustomEvent(\"allActive\"))\r\n\t\t\t}\r\n\r\n\t\t\tcalcActive(active)\r\n\t\t})\r\n\t})\r\n\r\n\tconst backpackAnimationAppear = new Animation(new KeyframeEffect(backpack, [\r\n\t\t{\r\n\t\t\ttransform: \"scale(0.82)\",\r\n\t\t\topacity: 1\r\n\t\t}\r\n\t], {\r\n\t\tduration: duration.slow,\r\n\t\tfill: \"forwards\",\r\n\t\tendDelay: 200,\r\n\t\tcomposite: \"add\",\r\n\t\teasing\r\n\t}))\r\n\r\n\tconst backpackAnimationSlide = new Animation(new KeyframeEffect(backpack, [\r\n\t\t{\r\n\t\t\ttransform: \"translate(0, 43%)\"\r\n\t\t}\r\n\t], {\r\n\t\tduration: duration.slow,\r\n\t\tfill: \"forwards\",\r\n\t\tcomposite: \"accumulate\",\r\n\t\teasing: \"ease\"\r\n\t}))\r\n\r\n\tconst blickAnimations = blicks.map(blick => {\r\n\t\treturn new Animation(new KeyframeEffect(blick, [\r\n\t\t\t{\r\n\t\t\t\topacity: 1\r\n\t\t\t}\r\n\t\t], {\r\n\t\t\tduration: duration.slow,\r\n\t\t\tfill: \"forwards\",\r\n\t\t\tcomposite: \"accumulate\",\r\n\t\t\teasing: \"ease\"\r\n\t\t}))\r\n\t})\r\n\r\n\tconst itemsAnimations = items.map((item, index) => {\r\n\t\tconst rect = item.getBBox()\r\n\t\titem.style.setProperty(\"transform-origin\", `${rect.x + rect.width / 2}px ${rect.y + rect.height / 2}px`)\r\n\r\n\t\tconst itemAnimation = new Animation(new KeyframeEffect(item, [\r\n\t\t\t{\r\n\t\t\t\ttransform: \"scale(1)\",\r\n\t\t\t\topacity: 1\r\n\t\t\t}\r\n\t\t], {\r\n\t\t\tduration: duration.fast,\r\n\t\t\tfill: \"both\",\r\n\t\t\tdelay: index * 90,\r\n\t\t\teasing\r\n\t\t}))\r\n\r\n\t\treturn itemAnimation\r\n\t})\r\n\r\n\tconst headerAnimation = new Animation(new KeyframeEffect(header, [\r\n\t\t{\r\n\t\t\topacity: 1\r\n\t\t}\r\n\t], {\r\n\t\tduration: duration.slow,\r\n\t\tfill: \"both\",\r\n\t\teasing: \"ease\"\r\n\t}))\r\n\r\n\tconst readyAnimation = new Animation(new KeyframeEffect(ready, [\r\n\t\t{\r\n\t\t\topacity: 1\r\n\t\t}\r\n\t], {\r\n\t\tduration: duration.mid,\r\n\t\tfill: \"both\",\r\n\t\teasing: \"ease\"\r\n\t}))\r\n\r\n\tconst resetAnimation = new Animation(new KeyframeEffect(reset, [\r\n\t\t{\r\n\t\t\ttransform: \"translateY(-65%)\"\r\n\t\t}\r\n\t], {\r\n\t\tduration: duration.mid,\r\n\t\tfill: \"both\",\r\n\t\teasing: \"ease\"\r\n\t}))\r\n\r\n\tconst messageAnimationAppear = new Animation(new KeyframeEffect(message, [\r\n\t\t{\r\n\t\t\ttransform: \"rotate(-7.31deg)\",\r\n\t\t\topacity: 1\r\n\t\t}\r\n\t], {\r\n\t\tduration: duration.slow,\r\n\t\tfill: \"both\",\r\n\t\teasing\r\n\t}))\r\n\r\n\tconst messageAnimationHide = new Animation(new KeyframeEffect(message, [\r\n\t\t{\r\n\t\t\topacity: 0\r\n\t\t}\r\n\t], {\r\n\t\tduration: duration.mid,\r\n\t\tfill: \"both\",\r\n\t\teasing\r\n\t}))\r\n\r\n\tconst backpackAnimationSlideBack = new Animation(new KeyframeEffect(backpack, [\r\n\t\t{\r\n\t\t\ttransform: \"translate(0, -19%) scale(0.9125)\",\r\n\t\t\topacity: 1\r\n\t\t}\r\n\t], {\r\n\t\tduration: duration.mid,\r\n\t\titerations: 1,\r\n\t\tfill: \"forwards\",\r\n\t\teasing: \"ease\"\r\n\t}))\r\n\r\n\tfunction cancel() {\r\n\t\tbackpackAnimationSlideBack.cancel()\r\n\t\tbackpackAnimationSlide.cancel()\r\n\t\tbackpackAnimationAppear.cancel()\r\n\t\theaderAnimation.cancel()\r\n\t\tresetAnimation.cancel()\r\n\t\treadyAnimation.cancel()\r\n\t\tmessageAnimationHide.cancel()\r\n\t\tmessageAnimationAppear.cancel()\r\n\t\titemsAnimations.forEach(animation => {\r\n\t\t\tanimation.cancel()\r\n\t\t\tanimation.effect.target.removeAttribute(\"data-checked\")\r\n\t\t\tcalcActive()\r\n\t\t})\r\n\t\tblickAnimations.forEach(animation => {\r\n\t\t\tanimation.cancel()\r\n\t\t})\r\n\t}\r\n\r\n\tbackpackAnimationAppear.persist()\r\n\tbackpackAnimationSlide.persist()\r\n\tbackpackAnimationSlideBack.persist()\r\n\r\n\tbackpackAnimationAppear.addEventListener(\"finish\", () => {\r\n\t\tbackpackAnimationSlide.play()\r\n\t\tmessageAnimationAppear.play()\r\n\t\titemsAnimations.forEach(animation => {\r\n\t\t\tanimation.play()\r\n\t\t})\r\n\t\tblickAnimations.forEach(animation => {\r\n\t\t\tanimation.play()\r\n\t\t})\r\n\t})\r\n\r\n\tbanner.addEventListener(\"allActive\", () => {\r\n\t\titemsAnimations.forEach(animation => {\r\n\t\t\tanimation.cancel()\r\n\t\t})\r\n\t\tblickAnimations.forEach(animation => {\r\n\t\t\tanimation.cancel()\r\n\t\t})\r\n\t\theaderAnimation.cancel()\r\n\t\tbackpackAnimationSlideBack.play()\r\n\t\treadyAnimation.play()\r\n\t\tresetAnimation.play()\r\n\t\tmessageAnimationHide.play()\r\n\t})\r\n\r\n\tdocument.querySelectorAll(\".play, .banner__reset\").forEach(btn => {\r\n\t\tbtn.addEventListener(\"click\", () => {\r\n\t\t\tcancel()\r\n\t\t\tbackpackAnimationAppear.play()\r\n\t\t\theaderAnimation.play()\r\n\t\t})\r\n\t})\r\n\r\n\tdocument.querySelectorAll(\".clear\").forEach(btn => {\r\n\t\tbtn.addEventListener(\"click\", () => {\r\n\t\t\tcancel()\r\n\t\t})\r\n\t})\r\n})\r\n"],
  "mappings": "AAAA,SAAS,iBAAiB,oBAAoB,WAAY;AACzD,QAAM,SAAS,SAAS,cAAc,SAAS;AAC/C,QAAM,SAAS,OAAO,iBAAiB,oBAAoB;AAC3D,QAAM,QAAQ,CAAC,GAAG,OAAO,iBAAiB,wBAAwB,CAAC;AACnE,QAAM,WAAW,OAAO,cAAc,mBAAmB;AACzD,QAAM,SAAS,OAAO,cAAc,iBAAiB;AACrD,QAAM,QAAQ,OAAO,cAAc,gBAAgB;AACnD,QAAM,QAAQ,OAAO,cAAc,gBAAgB;AACnD,QAAM,UAAU,OAAO,cAAc,kBAAkB;AACvD,QAAM,SAAS,CAAC,GAAG,OAAO,iBAAiB,8BAA8B,CAAC;AAC1E,QAAM,SAAS;AACf,QAAM,WAAW;AAAA,IAChB,MAAM;AAAA,IACN,KAAK;AAAA,IACL,MAAM;AAAA,EACP;AAEA,WAAS,WAAW,SAAS,GAAG;AAC/B,WAAO,QAAQ,CAAC,KAAK,UAAU;AAC9B,UAAI,gBAAgB,UAAU,SAAS,MAAM;AAAA,IAC9C,CAAC;AAAA,EACF;AAEA,MAAI,eAAe,aAAW;AAC7B,WAAO,MAAM,YAAY,SAAS,GAAG,QAAQ,GAAG,CAAC,EAAE,YAAY,QAAQ,GAAG,IAAI;AAAA,EAC/E,CAAC,EAAE,QAAQ,MAAM;AAEjB,aAAW;AAEX,QAAM,QAAQ,UAAQ;AACrB,SAAK,iBAAiB,SAAS,MAAM;AACpC,WAAK,gBAAgB,cAAc;AAEnC,YAAM,SAAS,MAAM,OAAO,CAAC,aAAaA,UAAS;AAClD,eAAO,eAAeA,MAAK,aAAa,cAAc;AAAA,MACvD,GAAG,CAAC;AAEJ,UAAI,UAAU,MAAM,QAAQ;AAC3B,eAAO,cAAc,IAAI,YAAY,WAAW,CAAC;AAAA,MAClD;AAEA,iBAAW,MAAM;AAAA,IAClB,CAAC;AAAA,EACF,CAAC;AAED,QAAM,0BAA0B,IAAI,UAAU,IAAI,eAAe,UAAU;AAAA,IAC1E;AAAA,MACC,WAAW;AAAA,MACX,SAAS;AAAA,IACV;AAAA,EACD,GAAG;AAAA,IACF,UAAU,SAAS;AAAA,IACnB,MAAM;AAAA,IACN,UAAU;AAAA,IACV,WAAW;AAAA,IACX;AAAA,EACD,CAAC,CAAC;AAEF,QAAM,yBAAyB,IAAI,UAAU,IAAI,eAAe,UAAU;AAAA,IACzE;AAAA,MACC,WAAW;AAAA,IACZ;AAAA,EACD,GAAG;AAAA,IACF,UAAU,SAAS;AAAA,IACnB,MAAM;AAAA,IACN,WAAW;AAAA,IACX,QAAQ;AAAA,EACT,CAAC,CAAC;AAEF,QAAM,kBAAkB,OAAO,IAAI,WAAS;AAC3C,WAAO,IAAI,UAAU,IAAI,eAAe,OAAO;AAAA,MAC9C;AAAA,QACC,SAAS;AAAA,MACV;AAAA,IACD,GAAG;AAAA,MACF,UAAU,SAAS;AAAA,MACnB,MAAM;AAAA,MACN,WAAW;AAAA,MACX,QAAQ;AAAA,IACT,CAAC,CAAC;AAAA,EACH,CAAC;AAED,QAAM,kBAAkB,MAAM,IAAI,CAAC,MAAM,UAAU;AAClD,UAAM,OAAO,KAAK,QAAQ;AAC1B,SAAK,MAAM,YAAY,oBAAoB,GAAG,KAAK,IAAI,KAAK,QAAQ,CAAC,MAAM,KAAK,IAAI,KAAK,SAAS,CAAC,IAAI;AAEvG,UAAM,gBAAgB,IAAI,UAAU,IAAI,eAAe,MAAM;AAAA,MAC5D;AAAA,QACC,WAAW;AAAA,QACX,SAAS;AAAA,MACV;AAAA,IACD,GAAG;AAAA,MACF,UAAU,SAAS;AAAA,MACnB,MAAM;AAAA,MACN,OAAO,QAAQ;AAAA,MACf;AAAA,IACD,CAAC,CAAC;AAEF,WAAO;AAAA,EACR,CAAC;AAED,QAAM,kBAAkB,IAAI,UAAU,IAAI,eAAe,QAAQ;AAAA,IAChE;AAAA,MACC,SAAS;AAAA,IACV;AAAA,EACD,GAAG;AAAA,IACF,UAAU,SAAS;AAAA,IACnB,MAAM;AAAA,IACN,QAAQ;AAAA,EACT,CAAC,CAAC;AAEF,QAAM,iBAAiB,IAAI,UAAU,IAAI,eAAe,OAAO;AAAA,IAC9D;AAAA,MACC,SAAS;AAAA,IACV;AAAA,EACD,GAAG;AAAA,IACF,UAAU,SAAS;AAAA,IACnB,MAAM;AAAA,IACN,QAAQ;AAAA,EACT,CAAC,CAAC;AAEF,QAAM,iBAAiB,IAAI,UAAU,IAAI,eAAe,OAAO;AAAA,IAC9D;AAAA,MACC,WAAW;AAAA,IACZ;AAAA,EACD,GAAG;AAAA,IACF,UAAU,SAAS;AAAA,IACnB,MAAM;AAAA,IACN,QAAQ;AAAA,EACT,CAAC,CAAC;AAEF,QAAM,yBAAyB,IAAI,UAAU,IAAI,eAAe,SAAS;AAAA,IACxE;AAAA,MACC,WAAW;AAAA,MACX,SAAS;AAAA,IACV;AAAA,EACD,GAAG;AAAA,IACF,UAAU,SAAS;AAAA,IACnB,MAAM;AAAA,IACN;AAAA,EACD,CAAC,CAAC;AAEF,QAAM,uBAAuB,IAAI,UAAU,IAAI,eAAe,SAAS;AAAA,IACtE;AAAA,MACC,SAAS;AAAA,IACV;AAAA,EACD,GAAG;AAAA,IACF,UAAU,SAAS;AAAA,IACnB,MAAM;AAAA,IACN;AAAA,EACD,CAAC,CAAC;AAEF,QAAM,6BAA6B,IAAI,UAAU,IAAI,eAAe,UAAU;AAAA,IAC7E;AAAA,MACC,WAAW;AAAA,MACX,SAAS;AAAA,IACV;AAAA,EACD,GAAG;AAAA,IACF,UAAU,SAAS;AAAA,IACnB,YAAY;AAAA,IACZ,MAAM;AAAA,IACN,QAAQ;AAAA,EACT,CAAC,CAAC;AAEF,WAAS,SAAS;AACjB,+BAA2B,OAAO;AAClC,2BAAuB,OAAO;AAC9B,4BAAwB,OAAO;AAC/B,oBAAgB,OAAO;AACvB,mBAAe,OAAO;AACtB,mBAAe,OAAO;AACtB,yBAAqB,OAAO;AAC5B,2BAAuB,OAAO;AAC9B,oBAAgB,QAAQ,eAAa;AACpC,gBAAU,OAAO;AACjB,gBAAU,OAAO,OAAO,gBAAgB,cAAc;AACtD,iBAAW;AAAA,IACZ,CAAC;AACD,oBAAgB,QAAQ,eAAa;AACpC,gBAAU,OAAO;AAAA,IAClB,CAAC;AAAA,EACF;AAEA,0BAAwB,QAAQ;AAChC,yBAAuB,QAAQ;AAC/B,6BAA2B,QAAQ;AAEnC,0BAAwB,iBAAiB,UAAU,MAAM;AACxD,2BAAuB,KAAK;AAC5B,2BAAuB,KAAK;AAC5B,oBAAgB,QAAQ,eAAa;AACpC,gBAAU,KAAK;AAAA,IAChB,CAAC;AACD,oBAAgB,QAAQ,eAAa;AACpC,gBAAU,KAAK;AAAA,IAChB,CAAC;AAAA,EACF,CAAC;AAED,SAAO,iBAAiB,aAAa,MAAM;AAC1C,oBAAgB,QAAQ,eAAa;AACpC,gBAAU,OAAO;AAAA,IAClB,CAAC;AACD,oBAAgB,QAAQ,eAAa;AACpC,gBAAU,OAAO;AAAA,IAClB,CAAC;AACD,oBAAgB,OAAO;AACvB,+BAA2B,KAAK;AAChC,mBAAe,KAAK;AACpB,mBAAe,KAAK;AACpB,yBAAqB,KAAK;AAAA,EAC3B,CAAC;AAED,WAAS,iBAAiB,uBAAuB,EAAE,QAAQ,SAAO;AACjE,QAAI,iBAAiB,SAAS,MAAM;AACnC,aAAO;AACP,8BAAwB,KAAK;AAC7B,sBAAgB,KAAK;AAAA,IACtB,CAAC;AAAA,EACF,CAAC;AAED,WAAS,iBAAiB,QAAQ,EAAE,QAAQ,SAAO;AAClD,QAAI,iBAAiB,SAAS,MAAM;AACnC,aAAO;AAAA,IACR,CAAC;AAAA,EACF,CAAC;AACF,CAAC;",
  "names": ["item"]
}
